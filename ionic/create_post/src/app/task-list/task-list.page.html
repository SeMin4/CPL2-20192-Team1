<ion-app>
  <ion-header translucent>
    <ion-toolbar>
      <ion-title> {{ project_name }}</ion-title>
    </ion-toolbar>
    
  </ion-header>
  <ion-content>
      <ion-list>    <!-- WHOLE -->
        <ion-item class="noti-list-title" (click)="notiIsOpen= toggle(notiIsOpen)">
          <ion-label class="ion-text-wrap">공지사항</ion-label>
          <ion-icon [name]="notiIsOpen ? 'arrow-dropdown' : 'arrow-dropright'" slot="end"></ion-icon>
        </ion-item>
        <ion-list class="noti-list" *ngIf="notiIsOpen"> <!-- NOTI -->
          <ion-item class="noti-title" *ngFor="let noti of notis" (click)="go_board(noti)">
            <ion-label class="ion-text-wrap">{{ noti.title }}</ion-label>
          </ion-item>
        </ion-list>
        
        <ion-item class="task-list-title" (click)="taskIsOpen = toggle(taskIsOpen)">
            <ion-label class="ion-text-wrap">업무 목록</ion-label>
            <ion-icon [name]="taskIsOpen ? 'arrow-dropdown' : 'arrow-dropright'" slot="end"></ion-icon>
        </ion-item>
        <ng-container *ngIf="taskIsOpen">
          <ion-list class="big-list" *ngFor="let big of tasks" > <!-- BIG -->
            <ion-item class="big-title">
              <ion-label class="ion-text-wrap" (click)="go_board(big)">{{ big.title }}</ion-label>
              <ion-icon [name]="bigIsOpen[big.id] ? 'arrow-dropdown' : 'arrow-dropright'" slot="end" (click)="bigIsOpen[big.id] = toggle(bigIsOpen[big.id])" ></ion-icon>
            </ion-item>

            <ng-container *ngIf="bigIsOpen[big.id]">
              <ion-list class="mid-list" *ngFor="let mid of big['mids']"> <!-- MID -->
                <ion-item class="mid-title">
                  <ion-label class="ion-text-wrap" (click)="go_board(mid)">{{ mid.title }}</ion-label>
                  <ion-icon [name]="midIsOpen[mid.id] ? 'arrow-dropdown' : 'arrow-dropright'" slot="end" (click)="midIsOpen[mid.id]= toggle(midIsOpen[mid.id])"></ion-icon>
                </ion-item>
                <ng-container *ngIf="midIsOpen[mid.id]">
                  <ion-item class="sml-title" *ngFor="let sml of mid['smls']" (click)="go_board(sml)"> <!-- SML -->
                    <ion-label class="ion-text-wrap">{{ sml.title }}</ion-label>
                  </ion-item> <!-- SML -->
                </ng-container>

              </ion-list> <!-- MID -->
            </ng-container>

          </ion-list> <!-- BIG -->
        </ng-container>

      </ion-list>

      <ion-fab vertical="bottom" horizontal="end" slot="fixed">
        <ion-fab-button color="light">
          <ion-icon name="add"></ion-icon>
        </ion-fab-button>
        <ion-fab-list side="start">
          <ion-fab-button color="light" (click)="go_create_sml()">
            <ion-label>소</ion-label>
          </ion-fab-button>
          <ion-fab-button *ngIf="isPM" color="light" (click)="go_create_mid()">
            <ion-label>중</ion-label>
          </ion-fab-button>
          <ion-fab-button *ngIf="isPM" color="light" (click)="go_create_big()">
            <ion-label>대</ion-label>
          </ion-fab-button>
        </ion-fab-list>
      </ion-fab>
        
  </ion-content>
</ion-app>
